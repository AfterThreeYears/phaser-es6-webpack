webpackJsonp([1],[,,,,,,,,,,function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a(1),a(3);var s=a(0),u=i(s),l=a(11),d=i(l),p=a(12),c=i(p),h=a(13),f=i(h),g=a(14),m=i(g),y=a(15),b=(i(y),function(e){function t(){o(this,t);var e=document.documentElement,a=e.clientWidth,i=e.clientHeight,n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a,i,u.default.CANVAS,"content",null));return n.state.add("Boot",d.default,!1),n.state.add("Preload",c.default,!1),n.state.add("Created",f.default,!1),n.state.add("Play",m.default,!1),n.state.start("Boot"),n}return n(t,e),t}(u.default.Game));window.game=new b},function(e,t,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=a(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),n(t,[{key:"init",value:function(){game.device.desktop||(this.scale.scaleMode=u.default.ScaleManager.SHOW_ALL,this.scale.forcePortrait=!0,this.scale.refresh())}},{key:"preload",value:function(){this.add.text(this.world.centerX,this.world.centerY,"loading fonts",{font:"16px Arial",fill:"#dddddd",align:"center"}).anchor.setTo(.5,.5),game.load.image("loading","./flappybird/images/preloader.gif")}},{key:"create",value:function(){game.state.start("Preload")}}]),t}(u.default.State);t.default=l},function(e,t,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=a(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),n(t,[{key:"preload",value:function(){var e=game.add.sprite(34,game.height/2,"loading");game.load.setPreloadSprite(e),game.stage.backgroundColor="#000",game.load.crossOrigin="anonymous",game.load.image("background","./flappybird/images/background.png"),game.load.image("gameover","./flappybird/images/gameover.png"),game.load.image("get-ready","./flappybird/images/get-ready.png"),game.load.image("ground","./flappybird/images/ground.png"),game.load.image("instructions","./flappybird/images/instructions.png"),game.load.image("scoreboard","./flappybird/images/scoreboard.png"),game.load.image("start-button","./flappybird/images/start-button.png"),game.load.image("title","./flappybird/images/title.png"),game.load.spritesheet("bird","./flappybird/images/bird34*24*3.png",34,24,3),game.load.spritesheet("pipe","./flappybird/images/pipes54*320*2.png",54,320,2),game.load.bitmapFont("flappy_font","./flappybird/fonts/flappyfont.png","./flappybird/fonts/flappyfont.fnt"),game.load.audio("bg","./flappybird/audios/bg.mp3"),game.load.audio("flap","./flappybird/audios/flap.wav"),game.load.audio("pipe-hit","./flappybird/audios/pipe-hit.wav"),game.load.audio("ouch","./flappybird/audios/ouch.wav"),game.load.audio("score","./flappybird/audios/score.wav")}},{key:"create",value:function(){game.state.start("Created")}}]),t}(u.default.State);t.default=l},function(e,t,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=a(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),n(t,[{key:"create",value:function(){game.add.tileSprite(0,0,game.width,game.height,"background").autoScroll(-10,0),game.add.tileSprite(0,game.height-112,game.width,112,"ground").autoScroll(-100,0);var e=game.add.group();e.create(0,0,"title");var t=e.create(190,10,"bird");t.animations.add("fly"),t.animations.play("fly",30,!0),e.x=35,e.y=100,game.add.tween(e).to({y:120},1e3,null,!0,0,Number.MAX_VALUE,!0),game.add.button(game.width/2,game.height/2,"start-button",function(){game.state.start("Play")}).anchor.setTo(.5,.5)}}]),t}(u.default.State);t.default=l},function(e,t,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=a(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),n(t,[{key:"create",value:function(){this.gameisOver=!1,this.hasHitGround=!1,this.score=0,this.ready=!1,this.bg=game.add.audio("bg"),this.flap=game.add.audio("flap"),this.pipeHit=game.add.audio("pipe-hit"),this.ouch=game.add.audio("ouch"),this.scoreAudio=game.add.audio("score"),this.bg.loopFull(),this.background=game.add.tileSprite(0,0,game.width,game.height,"background"),this.pipeGroup=game.add.group(),this.pipeGroup.enableBody=!0,this.ground=game.add.tileSprite(0,game.height-112,game.width,112,"ground"),game.physics.enable(this.ground,u.default.Physics.ARCADE),this.ground.body.immovable=!0,this.scoreText=game.add.bitmapText(game.world.centerX-20,30,"flappy_font",""+this.score,36),this.instructions=game.add.image(0,game.height-200,"instructions"),this.instructions.centerX=game.world.centerX,this.readyText=game.add.image(0,50,"get-ready"),this.readyText.centerX=game.world.centerX,this.bird=game.add.sprite(50,120,"bird"),this.bird.animations.add("fly"),this.bird.animations.play("fly",10,!0),this.bird.anchor.setTo(.5,.5),game.physics.enable(this.bird,u.default.Physics.ARCADE),this.bird.body.gravity.y=0,game.time.events.loop(1e3,this.generatePipes,this),game.time.events.stop(!1),game.input.onTap.addOnce(this.startGame,this),this.testText=game.add.text(game.world.centerX,game.world.centerY,"0")}},{key:"startGame",value:function(){this.gameSpeed=200,this.ready=!0,game.input.onTap.add(this.fly,this),this.background.autoScroll(-this.gameSpeed/10,0),this.ground.autoScroll(-this.gameSpeed,0),this.instructions.destroy(),this.readyText.destroy(),this.bird.body.gravity.y=1150,game.time.events.start()}},{key:"fly",value:function(){this.flap.play(),this.bird.body.velocity.y=-350,game.add.tween(this.bird).to({angle:-30},80,null,!0,0,0,!1)}},{key:"generatePipes",value:function(){var e=Math.max(200-+this.score,88),t=50+Math.floor((game.world.height-this.ground.height-e-100)*Math.random()),a=t-320,i=t+e;console.log(this.pipeGroup.children.length),this.testText.text=""+this.pipeGroup.children.length,this.resetPipe(a,i)||(game.add.sprite(game.width,a,"pipe",0,this.pipeGroup),game.add.sprite(game.width,i,"pipe",1,this.pipeGroup),this.pipeGroup.setAll("checkWorldBounds",!0),this.pipeGroup.setAll("outOfBoundsKill",!0),this.pipeGroup.setAll("body.velocity.x",-this.gameSpeed))}},{key:"resetPipe",value:function(e,t){var a=0;return this.pipeGroup.forEachDead(function(i){i.y<=0?(i.reset(game.width,e),i.hasScored=!1):i.reset(game.width,t),i.body.velocity.x=-this.gameSpeed,a++},this),2==a}},{key:"update",value:function(){this.ready&&(game.physics.arcade.collide(this.bird,this.ground,this.hitGround,null,this),game.physics.arcade.overlap(this.bird,this.pipeGroup,this.hitPipe,null,this),this.bird.inWorld||this.hitCeil(),this.bird.angle<90&&(this.bird.angle+=2.5),this.pipeGroup.forEachExists(this.checkScore,this))}},{key:"hitGround",value:function(){this.hasHitGround||(this.hasHitGround=!0,this.ouch.play(),this.gameOver(!0))}},{key:"hitCeil",value:function(){this.gameisOver||(this.pipeHit.play(),this.gameOver())}},{key:"hitPipe",value:function(){this.gameisOver||(this.pipeHit.play(),this.gameOver())}},{key:"checkScore",value:function(e){return!e.hasScored&&e.y<=0&&e.x<=this.bird.x-17-54&&(e.hasScored=!0,this.scoreAudio.play(),this.scoreText.text=++this.score,!0)}},{key:"hit",value:function(){game.input.onTap.remove(this.fly,this),game.time.events.stop(!1),this.pipeGroup.forEachExists(function(e){e.body.velocity.x=0},this),this.background.stopScroll(0,0),this.ground.stopScroll(0,0),this.bird.animations.stop("fly")}},{key:"gameOver",value:function(e){this.hit(),this.gameisOver=!0,e&&this.showGameOverText()}},{key:"showGameOverText",value:function(){this.bestScore=this.bestScore||0,+this.bestScore<+this.score&&(this.bestScore=this.score),this.scoreText.destroy(),this.gameOverGroup=game.add.group(),this.gameoverText=this.gameOverGroup.create(game.world.centerX,60,"gameover"),this.gameoverText.anchor.setTo(.5,0),this.scoreboard=this.gameOverGroup.create(game.world.centerX,125,"scoreboard"),this.scoreboard.anchor.setTo(.5,0),this.currentScoreText=game.add.bitmapText(game.world.width-95,160,"flappy_font",""+this.score,20,this.gameOverGroup),this.bestScoreText=game.add.bitmapText(game.world.width-95,207,"flappy_font",""+this.bestScore,20,this.gameOverGroup),game.add.button(game.world.centerX,game.height/2+50,"start-button",this.restartGame,this).anchor.setTo(.5,.5)}},{key:"restartGame",value:function(){this.bg.stop(),game.state.start("Play")}}]),t}(u.default.State);t.default=l},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={gameWidth:760,gameHeight:400,localStorageName:"phaseres6webpack"}}],[10]);